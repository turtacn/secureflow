# secureflow

**“数安智联”，企业客户隐私保护与数据协作平台**

`secureflow` 是一个开源平台，旨在为企业提供隐私保护下的数据智能与协作能力。它利用联邦学习（FL）、多方安全计算（MPC）、机密计算（CC）和区块链等尖端技术，实现跨组织的联合分析和可信数据处理，而无需暴露原始敏感数据。

**代码仓库：** `https://github.com/turtacn/secureflow`

## 客户痛点与价值主张

在当今数据驱动的时代，组织机构面临着严峻的挑战：

* **数据孤岛与隐私顾虑：** 由于隐私法规（如 GDPR、CCPA）以及对暴露敏感客户信息或商业机密的担忧，有价值的数据通常被困在各个组织内部形成数据孤岛。这阻碍了协作式数据分析的潜力，而这种分析本可以在行业联盟、供应链金融和联合营销等领域释放巨大的商业价值。
* **云端处理的安全性：** 虽然云平台提供了可扩展性和先进的分析工具，但企业对于在外部平台上处理其敏感数据持谨慎态度，担心即使在计算过程中，云服务提供商或其他第三方也可能访问这些数据。
* **缺乏数据科学专业知识与工具：** 许多组织缺乏专业的数据科学团队和先进的工具，无法将其海量数据转化为可操作的洞察和明智的业务决策。

**`secureflow` 通过以下方式解决这些痛点：**

* **隐私保护下的数据协作：**
    * 利用联邦学习将原始数据保留在本地，仅交换模型参数或梯度。
    * 采用多方安全计算（如加密聚合、同态加密）进行联合统计分析和模型训练，确保数据在整个计算过程中保持加密状态。
* **机密计算赋能可信数据处理：**
    * 支持在基于硬件的可信执行环境（TEE）（如 Intel SGX 或 AMD SEV）中运行数据处理任务，确保即使是平台管理员也无法在计算过程中访问明文数据。
    * 提供预配置的机密容器镜像和运行时，客户可以自行验证计算环境的可信度。
* **集成化数据智能工具：**
    * 提供低代码/无代码的可视化界面，用于数据清洗、标注、特征工程和模型训练，简化机器学习运维（MLOps）生命周期。
    * 提供针对常见行业用例（如供应链风险、联合营销推荐、行业预测）的预构建模型模板，这些模板可以使用联邦学习进行协作训练。

## 主要功能特性

* **可信数据协作空间：** 创建“数据节点”，定义细粒度的数据访问策略，并邀请合作伙伴参与特定的联合分析或模型训练项目。
* **全面的隐私计算技术：**
    * **联邦学习：** 开箱即用地支持 PyTorch-FL / TensorFlow-FL，支持水平联邦学习（HFL）和垂直联邦学习（VFL）。
    * **多方安全计算（MPC）：** 预集成的工具（如 MP-SPDZ、MPyC 的适配器），用于加密聚合和隐私保护统计。支持同态加密库。
* **可视化数据处理与人工智能建模：**
    * 低代码界面，支持数据导入（CSV、Parquet、数据库直连）、预览、清洗和特征工程，可在本地或云端机密环境中执行。
    * 内置行业模型模板（如供应链金融风险评分、联合营销协同推荐、销售预测）。
    * 图形化报告和结果可视化，可导出为 PPT/PDF 格式。
* **合规、审计与可追溯性：**
    * 所有数据操作、模型训练和推理请求都以加密日志的形式记录在区块链账本上，以实现不可篡改的可追溯性。
    * 一键生成审计报告，详细说明参与者、时间戳、使用的数据字段、训练结果和收益分配方案。
* **自动化收益分配与价值共享：**
    * 通过智能合约记录协作方（如数据量、训练时长）的贡献度，并自动计算联合创造价值（如更准确的风险模型）的收益分配。
    * 支持通证化（Tokenization）或积分系统，用于内外部结算或价值交换。

## 架构概览

`secureflow` 采用混合架构：

* **本地节点：** 部署在企业本地或私有云环境，负责原始数据存储、预处理和本地模型训练。
* **云端协调中心：** 运行在可信的机密计算环境中（例如，带有 SGX/SEV 工作节点的 Kubernetes）。它管理联邦学习参数交换、安全聚合、作业调度，并承载平台的核心服务。
* **区块链网络：** 一个轻量级的联盟链（例如 Hyperledger Fabric 或 Quorum），提供不可变的审计追踪，并通过智能合约促进自动化的收益分配。

本地节点与协调中心之间的通信使用 TLS 和双向认证进行保护。联邦学习过程采用差分隐私机制（如 DP-SGD）来保护梯度信息。

有关详细架构，请参阅 [docs/architecture.md](docs/architecture.md)。

## 构建和运行指南

*（本节将随着项目的开发而更新。总体方法概述如下。）*

**先决条件：**

* Go (版本 1.20.2 或更高)
* Docker 和 Docker Compose (用于运行依赖项和机密容器)
* Kubernetes (用于部署云端协调中心，本地开发可选)
* 支持机密计算的硬件 (Intel SGX 或 AMD SEV)，用于完整功能部署

**一般构建步骤：**

```bash
# 克隆仓库
git clone [https://github.com/turtacn/secureflow.git](https://github.com/turtacn/secureflow.git)
cd secureflow

# 下载 Go 模块依赖
go mod tidy

# 构建主要应用程序 (示例)
go build -o bin/secureflow-server ./cmd/secureflow-server
go build -o bin/secureflow-agent ./cmd/secureflow-agent

# (关于配置、数据库设置、区块链部署和运行服务的更多详细说明将在后续文档中提供。)
````

## 贡献指南

我们欢迎社区的贡献！如果您想为 `secureflow` 做出贡献，请遵循以下一般准则：

1.  **Fork 本仓库。**
2.  为您的功能或错误修复**创建一个新分支**：`git checkout -b feature/your-feature-name` 或 `git checkout -b fix/your-bug-fix`。
3.  **进行更改**，并确保它们符合项目的编码标准和架构原则。
4.  为您的更改**编写单元测试**。
5.  **确保所有测试通过。**
6.  使用清晰、描述性的提交消息**提交您的更改**。
7.  **将您的分支推送到**您的 Fork 仓库。
8.  针对 `https://github.com/turtacn/secureflow` 的 `main` 分支**创建一个拉取请求（PR）**。
9.  **清晰地描述您的 PR** 并链接任何相关问题。

更详细的指南请参阅我们的 `CONTRIBUTING.md` 文件（待创建）。

## 许可证

本项目采用 [Apache License 2.0](LICENSE) 授权。（注意：需要添加包含 Apache 2.0 内容的 `LICENSE` 文件）。